!function(e){e.module("ngC3Export.config",[]).value("ngC3Export.config",{debug:!0}),e.module("ngC3Export",["ngC3Export.config"])}(angular),function(){"use strict";function e(e,n){return{restrict:"A",scope:{},controller:function(e){e.config={exportedFileName:"c3 chart"}},link:{post:function(e,t,r){var a=($(t),angular.element('<a class="savePNG"><i class="fa fa-download"></i></a>'));r.exportedFileName&&(e.config.exportedFileName=r.exportedFileName),r.backgroundColor&&(e.config.backgroundColor=r.backgroundColor),t.append(a),a.on("click",function(){n.createChartImages(t,e.config)})}}}}angular.module("ngC3Export").directive("exportChart",e)}(),function(){"use strict";angular.module("ngC3Export").factory("ExportService",function(e){function n(n,a){var o=$(n),i=$(n.find("svg")).first()[0],l=angular.element(i.outerHTML)[0],u=angular.element('<canvas id="canvasOriginal"></canvas>')[0],c=angular.element('<svg id="emptysvg" xmlns="http://www.w3.org/2000/svg" version="1.1" height="2" />')[0],g=angular.element('<canvas id="canvasComputed"></canvas>')[0];$(l).find("defs").remove(),u.width=o.width(),g.width=o.width(),u.height=o.height(),g.height=o.height();var d=angular.element('<div style="display: none;"></div>');n.append(d),d.append(u),d.append(g),d.append(c),d.append(l),t(l,u);var s=e.exportStyles(u,g,l,c);t(l,s),r(o.find(".savePNG"),s,a.exportedFileName),u.remove(),g.remove(),c.remove(),l.remove()}function t(e,n){canvg(n,(new XMLSerializer).serializeToString(e))}function r(e,n,t){e.attr("href",n.toDataURL("png")).attr("download",function(){return t+".png"})}return{createChartImages:n}})}(),function(){"use strict";angular.module("ngC3Export").factory("StyleFactory",function(){function e(n,t){if(t.push(n),n.hasChildNodes())for(var r=n.firstChild;r;)1===r.nodeType&&"SCRIPT"!=r.nodeName&&e(r,t),r=r.nextSibling;return t}function n(e,n){var t,r,a,o,i=getComputedStyle(e),l="";for(t=0,r=i.length;r>t;t++)a=i[t],o=i.getPropertyValue(a),o!==n.getPropertyValue(a)&&(l+="visibility"==a&&"hidden"==o?"display: none;":a+":"+o+";");e.setAttribute("style",l)}return{exportStyles:function(t,r,a,o){for(var i=[],l=getComputedStyle(o),u=e(a,i),c=u.length;c--;)n(u[c],l);return r}}})}();