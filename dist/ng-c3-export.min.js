!function(t){t.module("ngC3Export.config",[]).value("ngC3Export.config",{debug:!0}),t.module("ngC3Export.directives",[]),t.module("ngC3Export.filters",[]),t.module("ngC3Export.services",[]),t.module("ngC3Export",["ngC3Export.config","ngC3Export.directives","ngC3Export.filters","ngC3Export.services"])}(angular),function(){"use strict";function t(t,e){return{restrict:"A",scope:{},controller:function(t){t.config={exportedFileName:"c3 chart"}},link:{post:function(n,r,s){var i=$(r),o=angular.element('<a class="savePNG"><i class="fa fa-download"></i></a>');s.exportedFileName&&(n.config.exportedFileName=s.exportedFileName),r.append(o);var l,a=function(){for(var t,n,r=0;r<=document.styleSheets.length-1;r++)document.styleSheets[r].href&&-1!==document.styleSheets[r].href.indexOf("c3.css")&&(t=void 0!==document.styleSheets[r].rules?document.styleSheets[r].rules:document.styleSheets[r].cssRules);if(null!==t&&void 0!==t){var s=function(){var t="hidden"===angular.element(this).css("visibility")||"0"===angular.element(this).css("opacity");t&&angular.element(this).css("display","none")};for(r=0;r<t.length;r++)1===t[r].type&&(n=t[r].selectorText,l=e.makeStyleObject(t[r]),i.find("svg *").each(s),$(n).not(".c3-chart path").css(l)),i.find(".c3-chart path").filter(function(){return"none"===$(this).css("fill")}).attr("fill","none"),i.find(".c3-chart path").filter(function(){return"none"===!$(this).css("fill")}).attr("fill",function(){return $(this).css("fill")})}},c=function(){var e=$(r),s=$(r.find("svg")),i=angular.element('<canvas style="display: none;"></canvas>')[0];s.attr("transform","scale(2)"),r.find("defs").remove(),a(),i.width=2*e.width(),i.height=2*e.height(),r.append(i);var o=i.getContext("2d"),c=$.trim(s[0].outerHTML);o.drawSvg(c,0,0);var u=[];u.push(n.config.exportedFileName),u=u.join("-").replace(/[^\w\d]+/gi,"-"),e.find(".savePNG").attr("href",i.toDataURL("png")).attr("download",function(){return u+".png"});var f=t.createSVGContent(s[0],l);$(".saveSVG").attr("href","data:text/svg,"+f.source[0]).attr("download",function(){return u+".svg"}),r.find("canvas").remove()};o.on("click",function(){c()})}}}}angular.module("ngC3Export").directive("exportChart",t)}(),function(){"use strict";angular.module("ngC3Export").factory("StyleFactory",function(){return{makeStyleObject:function(t){var e,n=t.style,r={};for(e=0;e<n.length;e++)r[n[e]]=n[n[e]];return r}}})}(),function(){"use strict";angular.module("ngC3Export").factory("SvgFactory",function(){return{createSVGContent:function(t,e){var n={xmlns:"http://www.w3.org/2000/xmlns/",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},r='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';t.setAttribute("version","1.1");var s=document.createElement("style");s.setAttribute("type","text/css"),t.removeAttribute("xmlns"),t.removeAttribute("xlink"),t.hasAttributeNS(n.xmlns,"xmlns")||t.setAttributeNS(n.xmlns,"xmlns",n.svg),t.hasAttributeNS(n.xmlns,"xmlns:xlink")||t.setAttributeNS(n.xmlns,"xmlns:xlink",n.xlink);var i=(new XMLSerializer).serializeToString(t).replace("</style>","<![CDATA["+e+"]]></style>");return i=i.replace(/\sfont-.*?: .*?;/gi,""),i=i.replace(/\sclip-.*?="url\(http:\/\/localhost:9000\/.*?\)"/gi,""),i=i.replace(/\stransform="scale\(2\)"/gi,""),i=i.replace(/<defs xmlns="http:\/\/www.w3.org\/1999\/xhtml">/gi,"<defs>"),{svg:t,source:[r+i]}}}})}();