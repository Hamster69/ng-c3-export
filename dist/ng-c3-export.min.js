!function(t){t.module("ngC3Export.config",[]).value("ngC3Export.config",{debug:!0}),t.module("ngC3Export.directives",[]),t.module("ngC3Export.filters",[]),t.module("ngC3Export.services",[]),t.module("ngC3Export",["ngC3Export.config","ngC3Export.directives","ngC3Export.filters","ngC3Export.services"])}(angular),function(){"use strict";function t(t){return{restrict:"A",priority:1e3,transclude:!0,template:"<div>asdfasdf<div ng-transclude></div></div>",link:function(e,n,r){var s=$(n),i=angular.element('<a class="savePNG" >Letöltés</a>');n.append(i);var l,a=function(t){var e,n=t.style,r={};for(e=0;e<n.length;e++)r[n[e]]=n[n[e]];return r},o=function(){for(var t,e,n=0;n<=document.styleSheets.length-1;n++)document.styleSheets[n].href&&-1!==document.styleSheets[n].href.indexOf("c3.css")&&(t=void 0!==document.styleSheets[n].rules?document.styleSheets[n].rules:document.styleSheets[n].cssRules);if(null!==t&&void 0!==t){var r=function(){var t="hidden"===angular.element(this).css("visibility")||"0"===angular.element(this).css("opacity");t&&angular.element(this).css("display","none")};for(n=0;n<t.length;n++)1===t[n].type&&(e=t[n].selectorText,l=a(t[n]),s.find("svg *").each(r),$(e).not(".c3-chart path").css(l)),s.find(".c3-chart path").filter(function(){return"none"===$(this).css("fill")}).attr("fill","none"),s.find(".c3-chart path").filter(function(){return"none"===!$(this).css("fill")}).attr("fill",function(){return $(this).css("fill")})}},c=function(){var e=$(n),s=$(n.find("svg")),i=angular.element('<canvas style="display: none;"></canvas>')[0];s.attr("transform","scale(2)"),n.find("defs").remove(),o(),i.width=2*e.width(),i.height=2*e.height(),n.append(i);var a=i.getContext("2d"),c=$.trim(s[0].outerHTML);a.drawSvg(c,0,0);var u=[];r.chartTitle&&u.unshift(r.chartTitle),u=u.join("-").replace(/[^\w\d]+/gi,"-"),e.find(".savePNG").attr("href",i.toDataURL("png")).attr("download",function(){return u+".png"});var d=t.createSVGContent(s[0],l);$(".saveSVG").attr("href","data:text/svg,"+d.source[0]).attr("download",function(){return u+".svg"}),n.find("canvas").remove()};i.on("click",function(){switch(r.exportChart){case"images":c()}})}}}angular.module("ngC3Export").directive("exportChart",t)}(),function(){"use strict";angular.module("ngC3Export").factory("ExportService",function(){return{createSVGContent:function(t,e){var n={xmlns:"http://www.w3.org/2000/xmlns/",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},r='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';t.setAttribute("version","1.1");var s=document.createElement("style");s.setAttribute("type","text/css"),t.removeAttribute("xmlns"),t.removeAttribute("xlink"),t.hasAttributeNS(n.xmlns,"xmlns")||t.setAttributeNS(n.xmlns,"xmlns",n.svg),t.hasAttributeNS(n.xmlns,"xmlns:xlink")||t.setAttributeNS(n.xmlns,"xmlns:xlink",n.xlink);var i=(new XMLSerializer).serializeToString(t).replace("</style>","<![CDATA["+e+"]]></style>");return i=i.replace(/\sfont-.*?: .*?;/gi,""),i=i.replace(/\sclip-.*?="url\(http:\/\/localhost:9000\/.*?\)"/gi,""),i=i.replace(/\stransform="scale\(2\)"/gi,""),i=i.replace(/<defs xmlns="http:\/\/www.w3.org\/1999\/xhtml">/gi,"<defs>"),{svg:t,source:[r+i]}}}})}();