!function(){angular.module("ngC3Export.config",[]).value("ngC3Export.config",{debug:!0}),angular.module("ngC3Export",["ngC3Export.config"])}(angular),function(){"use strict";function e(e){return{restrict:"A",priority:1,controller:["$scope",function(e){e.config={exportedFileName:"c3 chart"}}],link:{post:function(t,n,r){var a=angular.element('<div class="exporter"><a class="savePNG"><i class="fa fa-download"></i></a></div>');r.exportedFileName&&(t.config.exportedFileName=r.exportedFileName),r.backgroundColor&&(t.config.backgroundColor=r.backgroundColor),n.prepend(a),a.on("click",function(){e.createChartImages(n,t.config)})}}}}e.$inject=["ExportService"],angular.module("ngC3Export").directive("exportChart",e)}(),function(){"use strict";angular.module("ngC3Export").factory("ExportService",["StyleFactory",function(e){function t(t,a){var o=$(t),i=$(t.find("svg")).first()[0],l=angular.element(i.outerHTML)[0],c=angular.element('<canvas id="canvasOriginal"></canvas>')[0],u=angular.element('<svg id="emptysvg" xmlns="http://www.w3.org/2000/svg" version="1.1" height="2" />')[0],g=angular.element('<canvas id="canvasComputed"></canvas>')[0];$(l).find("defs").remove(),c.width=o.width(),g.width=o.width(),c.height=o.height(),g.height=o.height();var d=angular.element('<div style="display: none;" class="c3"></div>');t.append(d),d.append(c),d.append(g),d.append(u),d.append(l),n(l,c);var s=e.exportStyles(c,g,l,u);n(l,s),r(o.find(".savePNG"),s,a.exportedFileName),c.remove(),g.remove(),u.remove(),l.remove()}function n(e,t){canvg(t,(new XMLSerializer).serializeToString(e))}function r(e,t,n){e.attr("href",t.toDataURL("png")).attr("download",function(){return n+".png"})}return{createChartImages:t}}])}(),function(){"use strict";angular.module("ngC3Export").factory("StyleFactory",function(){function e(t,n){if(n.push(t),t.hasChildNodes())for(var r=t.firstChild;r;)1===r.nodeType&&"SCRIPT"!=r.nodeName&&e(r,n),r=r.nextSibling;return n}function t(e,t){var n,r,a,o,i=getComputedStyle(e),l="";for(n=0,r=i.length;r>n;n++)a=i[n],o=i.getPropertyValue(a),o!==t.getPropertyValue(a)&&(l+="visibility"==a&&"hidden"==o?"display: none;":a+":"+o+";");e.setAttribute("style",l)}return{exportStyles:function(n,r,a,o){for(var i=[],l=getComputedStyle(o),c=e(a,i),u=c.length;u--;)t(c[u],l);return r}}})}();